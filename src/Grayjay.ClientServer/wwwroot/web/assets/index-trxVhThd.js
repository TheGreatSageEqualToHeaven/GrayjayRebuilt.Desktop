import{o as N,j as A,i as o,a as s,s as M,S as D,b as y,d as C,q as R,T as O,p as P,t as _,r as Z,c as G,g as $,e as S,k as U,A as z,h as I,v as W,N as j,w as q,D as X,V as J,x as K,y as Q,z as Y,n as e2,m as t2,E as n2,G as i2,H as B}from"./index-Tg9vHuMa.js";const a2="_containerCreator_e6ml6_1",s2="_thumbnail_e6ml6_27",o2="_name_e6ml6_39",r2="_metadata_e6ml6_69",x={containerCreator:a2,thumbnail:s2,name:o2,metadata:r2},l2="data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.5806%204.18125C13.116%202.60625%2010.884%202.60625%2010.4194%204.18125L10.3069%204.56375C10.2375%204.79954%2010.1161%205.01681%209.95182%205.19961C9.7875%205.38242%209.58434%205.52613%209.35726%205.6202C9.13017%205.71427%208.88491%205.75632%208.63945%205.74326C8.394%205.73021%208.15458%205.66238%207.93875%205.54475L7.59%205.3535C6.14662%204.56825%204.56825%206.14663%205.35462%207.58887L5.54475%207.93875C6.0465%208.86125%205.57062%2010.0099%204.56375%2010.3069L4.18125%2010.4194C2.60625%2010.884%202.60625%2013.116%204.18125%2013.5806L4.56375%2013.6931C4.79954%2013.7625%205.01681%2013.8839%205.19961%2014.0482C5.38242%2014.2125%205.52613%2014.4157%205.6202%2014.6427C5.71427%2014.8698%205.75632%2015.1151%205.74326%2015.3605C5.73021%2015.606%205.66238%2015.8454%205.54475%2016.0612L5.3535%2016.41C4.56825%2017.8534%206.14663%2019.4317%207.58887%2018.6454L7.93875%2018.4552C8.15458%2018.3376%208.394%2018.2698%208.63945%2018.2567C8.88491%2018.2437%209.13017%2018.2857%209.35726%2018.3798C9.58434%2018.4739%209.7875%2018.6176%209.95182%2018.8004C10.1161%2018.9832%2010.2375%2019.2005%2010.3069%2019.4362L10.4194%2019.8187C10.884%2021.3937%2013.116%2021.3937%2013.5806%2019.8187L13.6931%2019.4362C13.7625%2019.2005%2013.8839%2018.9832%2014.0482%2018.8004C14.2125%2018.6176%2014.4157%2018.4739%2014.6427%2018.3798C14.8698%2018.2857%2015.1151%2018.2437%2015.3605%2018.2567C15.606%2018.2698%2015.8454%2018.3376%2016.0612%2018.4552L16.41%2018.6465C17.8534%2019.4318%2019.4317%2017.8534%2018.6454%2016.4111L18.4552%2016.0612C18.3376%2015.8454%2018.2698%2015.606%2018.2567%2015.3605C18.2437%2015.1151%2018.2857%2014.8698%2018.3798%2014.6427C18.4739%2014.4157%2018.6176%2014.2125%2018.8004%2014.0482C18.9832%2013.8839%2019.2005%2013.7625%2019.4362%2013.6931L19.8187%2013.5806C21.3937%2013.116%2021.3937%2010.884%2019.8187%2010.4194L19.4362%2010.3069C19.2005%2010.2375%2018.9832%2010.1161%2018.8004%209.95182C18.6176%209.7875%2018.4739%209.58434%2018.3798%209.35726C18.2857%209.13017%2018.2437%208.88491%2018.2567%208.63945C18.2698%208.394%2018.3376%208.15458%2018.4552%207.93875L18.6465%207.59C19.4318%206.14662%2017.8534%204.56825%2016.4111%205.35462L16.0612%205.54475C15.8454%205.66238%2015.606%205.73021%2015.3605%205.74326C15.1151%205.75632%2014.8698%205.71427%2014.6427%205.6202C14.4157%205.52613%2014.2125%205.38242%2014.0482%205.19961C13.8839%205.01681%2013.7625%204.79954%2013.6931%204.56375L13.5806%204.18125ZM12%2015.2963C11.1258%2015.2963%2010.2874%2014.949%209.6692%2014.3308C9.05103%2013.7126%208.70375%2012.8742%208.70375%2012C8.70375%2011.1258%209.05103%2010.2874%209.6692%209.6692C10.2874%209.05103%2011.1258%208.70375%2012%208.70375C12.8739%208.70375%2013.712%209.05091%2014.33%209.66887C14.948%2010.2868%2015.2951%2011.125%2015.2951%2011.9989C15.2951%2012.8728%2014.948%2013.7109%2014.33%2014.3289C13.712%2014.9468%2012.8739%2015.294%2012%2015.294V15.2963Z'%20fill='white'/%3e%3c/svg%3e";var c2=_("<img style=height:28px;width:28px;border-radius:50%;position:absolute;right:0px;bottom:0px;>"),u2=_("<div>"),C2=_("<div><div style=position:relative;display:inline-block;><img></div><div></div><div>");const g2=r=>{const g=A.getSourceConfig(r.id?.pluginID)?.absoluteIconUrl;return(()=>{var l=C2(),d=l.firstChild,h=d.firstChild,m=d.nextSibling,a=m.nextSibling;return l.$$click=()=>r.onClick?.(),o(d,s(D,{when:g,get children(){var t=c2();return M(t,"src",g),t}}),null),o(m,()=>r.name),o(l,s(D,{get when(){return r.metadata},get children(){var t=u2();return o(t,()=>r.metadata),y(()=>C(t,x.metadata)),t}}),a),a.style.setProperty("display","flex"),a.style.setProperty("flex-direction","row"),a.style.setProperty("align-items","end"),o(a,s(R,{style:{"margin-top":"16px",width:"100%"},small:!0,get author(){return r.url}}),null),o(a,s(O,{style:{"margin-left":"4px","flex-shrink":"0",width:"42px",height:"42px"},icon:l2,onClick:t=>{r.onSettingsClick?.(t.target),t.stopPropagation(),t.preventDefault()}}),null),y(t=>{var u=x.containerCreator,w=P(r.thumbnail),p=x.thumbnail,b=x.name;return u!==t.e&&C(l,t.e=u),w!==t.t&&M(h,"src",t.t=w),p!==t.a&&C(h,t.a=p),b!==t.o&&C(m,t.o=b),t},{e:void 0,t:void 0,a:void 0,o:void 0}),l})()};N(["click"]);const d2="_containerCreators_g4lv4_1",h2="_containerFilters_g4lv4_15",T={containerCreators:d2,containerFilters:h2},m2="data:image/svg+xml,%3csvg%20width='20'%20height='24'%20viewBox='0%200%2020%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Vector'%20d='M10%2023.3076C11.5768%2023.3076%2012.8558%2022.0206%2012.8558%2020.4326H7.14421C7.14421%2022.0206%208.42322%2023.3076%2010%2023.3076ZM19.6156%2016.5824C18.7531%2015.6498%2017.1393%2014.2469%2017.1393%209.65137C17.1393%206.16094%2014.7071%203.3668%2011.4277%202.68129V1.74512C11.4277%200.951348%2010.7884%200.307617%2010%200.307617C9.21161%200.307617%208.57233%200.951348%208.57233%201.74512V2.68129C5.29287%203.3668%202.86074%206.16094%202.86074%209.65137C2.86074%2014.2469%201.2469%2015.6498%200.384405%2016.5824C0.116548%2016.8721%20-0.00220127%2017.2185%203.08654e-05%2017.5576C0.00494156%2018.2943%200.579493%2018.9951%201.43306%2018.9951H18.5669C19.4205%2018.9951%2019.9955%2018.2943%2020%2017.5576C20.0022%2017.2185%2019.8835%2016.8717%2019.6156%2016.5824Z'%20fill='%23D9D9D9'/%3e%3c/svg%3e",p2="/web/assets/streams-v3NnepLr.svg",b2="data:image/svg+xml,%3csvg%20width='19'%20height='15'%20viewBox='0%200%2019%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.84285%200.901367C2.08888%200.901367%201.36579%201.20088%200.832653%201.73402C0.299514%202.26716%200%202.99025%200%203.74422V11.3252C0%2012.0791%200.299514%2012.8022%200.832653%2013.3354C1.36579%2013.8685%202.08888%2014.168%202.84285%2014.168H12.319C13.073%2014.168%2013.7961%2013.8685%2014.3292%2013.3354C14.8624%2012.8022%2015.1619%2012.0791%2015.1619%2011.3252V9.82224L17.3348%2011.9951C17.4673%2012.1276%2017.6361%2012.2178%2017.8199%2012.2544C18.0037%2012.2909%2018.1942%2012.2722%2018.3674%2012.2005C18.5405%2012.1288%2018.6885%2012.0073%2018.7926%2011.8515C18.8967%2011.6957%2018.9523%2011.5126%2018.9524%2011.3252V3.74422C18.9523%203.55683%2018.8967%203.37366%2018.7926%203.21786C18.6885%203.06206%2018.5405%202.94063%2018.3674%202.86893C18.1942%202.79722%2018.0037%202.77846%2017.8199%202.815C17.6361%202.85155%2017.4673%202.94177%2017.3348%203.07426L15.1619%205.24714V3.74422C15.1619%202.99025%2014.8624%202.26716%2014.3292%201.73402C13.7961%201.20088%2013.073%200.901367%2012.319%200.901367H2.84285Z'%20fill='%23D9D9D9'/%3e%3c/svg%3e";var F=_("<div>");const v2=()=>{const r=Z();let v;const[g]=G(async()=>[],async()=>await $.subscriptions()),[l,d]=S(""),[h,m]=S(0),a=U(()=>{let i;switch(l()&&l().length>0?i=g()?.filter(e=>e.channel.name.toLowerCase().indexOf(l().toLowerCase())!==-1):i=g()?.slice(0),h()){case 0:i?.sort((e,n)=>e.channel.name.localeCompare(n.channel.name));break;case 1:i?.sort((e,n)=>n.channel.name.localeCompare(e.channel.name));break}return i}),t=["Alphabetical (A-Z)","Antialphabetical (Z-A)"],[u,w]=S({menu:{title:"",items:[]}}),[p,b]=S(!1),L=new z(null,p,I.BottomRight),E=async(i,e)=>{if(!e)return;const n=A.getSourceState(e.channel.id.pluginID),k=(n?.capabilitiesChannel?.types?.indexOf("STREAMS")??-1)!==-1,V=(n?.capabilitiesChannel?.types?.indexOf("VIDEOS")??-1)!==-1||(n?.capabilitiesChannel?.types?.indexOf("MIXED")??-1)!==-1||(n?.capabilitiesChannel?.types?.length??0)===0,c=await $.subscriptionSettings(e.channel.url);L.setElement(i),w({subscription:e,subscriptionSettings:c,menu:{title:"",items:[new n2({icon:m2,name:"Enable notifications",description:"Get notified about the latest videos Get notified about the latest videos",isSelected:c.doNotifications,onToggle:f=>{c.doNotifications=f}}),...V||k?[new i2]:[],...V?[new B({icon:b2,name:"Check videos",isSelected:c.doFetchVideos,onToggle:f=>{c.doFetchVideos=f}})]:[],...k?[new B({icon:p2,name:"Check streams",isSelected:c.doFetchStreams,onToggle:f=>{c.doFetchStreams=f}})]:[]]}}),b(!0)},H=()=>{const i=u().subscription;if(!i)return;const e=u().subscriptionSettings;e&&(console.log("subscriptionSettings",e),$.updateSubscriptionSettings(i.channel.url,e),b(!1))};return W(()=>{L.dispose()}),(()=>{var i=F();return o(i,s(j,{isRoot:!0}),null),o(i,s(Y,{ref(e){var n=v;typeof n=="function"?n(e):v=e},get children(){return[(()=>{var e=F();return o(e,s(q,{label:"Filter by",onTextChanged:n=>{d(n)}}),null),o(e,s(X,{label:"Sort by",onSelectedChanged:n=>m(n),get value(){return h()},options:t,get anchorStyle(){return I.BottomLeft},style:{width:"230px","margin-left":"12px","margin-right":"24px"}}),null),y(()=>C(e,T.containerFilters)),e})(),s(J,{outerContainerRef:v,get itemCount(){return a()?.length??0},itemHeight:276,itemWidth:190,autosizeWidth:!0,notifyEndOnLast:5,style:{"margin-left":"15px","margin-top":"15px","margin-bottom":"10px"},builder:e=>s(g2,K(()=>a()?.[e]?.channel,{get metadata(){return`${Q(a()?.[e]?.channel?.subscribers)} subscribers`},onClick:()=>{const n=a()?.[e]?.channel?.url;n&&r("/web/channel?url="+encodeURIComponent(n))},onSettingsClick:n=>{E(n,a()?.[e])}}))})]}}),null),o(i,s(t2,{get children(){return s(e2,{get menu(){return u().menu},anchor:L,get show(){return p()},onHide:H})}}),null),y(()=>C(i,T.containerCreators)),i})()};export{v2 as default};
